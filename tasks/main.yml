---
# tasks file for mbreisch.docker
- name: Install dependencies
  apt: name=curl state=latest

- name: Install docker-engine
  shell: curl -sSL https://get.docker.com/ | sh

- name: Install docker-compose
  shell: curl -L https://github.com/docker/compose/releases/download/1.7.1/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose && chmod +x /usr/local/bin/docker-compose

- name: Update ufw configurations
  lineinfile: dest=/etc/default/ufw
              regexp="^DEFAULT_FORWARD_POLICY"
              line='DEFAULT_FORWARD_POLICY="ACCEPT"'
              state=present
  notify: reload ufw
  when: docker_ufw
